<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>User Profile - Blogging Site</title>
  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 1rem;
    }
  </style>
</head>
<body>
  <main class="bg-white rounded-xl shadow-lg max-w-3xl w-full p-8 space-y-6">
    <h1 class="text-3xl text-purple-700 font-bold text-center">Your Profile</h1>
    <div id="user-info" class="space-y-3 text-center text-gray-800 font-semibold text-lg">
      <p><span class="font-bold">Name / Email:</span> <span id="nameEmail">User  Name / Email</span></p>
      <p><span class="font-bold">Time Spent on Blog:</span> <span id="timeSpent">0 seconds</span></p>
    </div>

    <section>
      <h2 class="text-2xl font-semibold text-gray-700 mb-4 border-b border-gray-300 pb-1">Liked Posts</h2>
      <ul id="likedPostsList" class="space-y-2 max-h-72 overflow-y-auto">
        <!-- Posts will be loaded here -->
      </ul>
      <p id="noLikesMsg" class="text-gray-500 text-center mt-4 hidden">You haven't liked any posts yet.</p>
    </section>

    <div class="flex justify-center pt-4">
      <button id="logoutBtn" class="bg-purple-600 hover:bg-purple-700 text-white font-semibold px-6 py-2 rounded-md shadow-md transition">Logout</button>
    </div>
  </main>

<script>
  // Dummy data for demonstration
  const userName = "John Doe"; // Replace with actual user name
  const userEmail = "john.doe@example.com"; // Replace with actual user email
  const timeSpent = 3600; // Example: 1 hour in seconds
  const likedPosts = [
    { id: "1", title: "First Blog Post" },
    { id: "2", title: "Second Blog Post" }
  ]; // Example liked posts

  const nameEmailEl = document.getElementById('nameEmail');
  const timeSpentEl = document.getElementById('timeSpent');
  const likedPostsList = document.getElementById('likedPostsList');
  const noLikesMsg = document.getElementById('noLikesMsg');

  // Set user info
  nameEmailEl.textContent = `${userName} / ${userEmail}`;
  timeSpentEl.textContent = formatTime(timeSpent);

  // Show liked posts
  if (likedPosts.length === 0) {
    noLikesMsg.classList.remove("hidden");
  } else {
    noLikesMsg.classList.add("hidden");
    likedPosts.forEach(post => {
      const li = document.createElement("li");
      li.className = "border border-gray-300 rounded-md p-3 bg-purple-50 hover:bg-purple-100 cursor-pointer transition";
      li.textContent = post.title;
      li.addEventListener("click", () => {
        // Redirect to post page (implement as needed)
        window.location.href = `post.html?id=${post.id}`;
      });
      likedPostsList.appendChild(li);
    });
  }

  function formatTime(ms) {
    if (!ms || ms <= 0) return "0 seconds";
    let totalSeconds = Math.floor(ms / 1000);
    let hours = Math.floor(totalSeconds / 3600);
    let minutes = Math.floor((totalSeconds % 3600) / 60);
    let seconds = totalSeconds % 60;
    let parts = [];
    if (hours) parts.push(hours + "h");
    if (minutes) parts.push(minutes + "m");
    if (seconds || parts.length === 0) parts.push(seconds + "s");
    return parts.join(" ");
  }

  // Logout button functionality (if needed)
  document.getElementById("logoutBtn").addEventListener("click", () => {
    // Implement logout logic if necessary
    alert("Logged out successfully!");
    window.location.href = "login.html"; // Redirect to login page
  });
</script>
</body>
</html>
